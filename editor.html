<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Multimedia & Text Editors</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light slate background */
            color: #1e293b; /* Dark slate text */
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .dark body {
            background-color: #0f172a; /* Darker slate background */
            color: #e2e8f0; /* Light slate text */
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .section-title {
            font-size: 2.75rem; /* 4xl */
            font-weight: 800; /* Extra bold */
            text-align: center;
            margin-bottom: 1.5rem;
            background: linear-gradient(45deg, #3b82f6, #60a5fa); /* Blue to Light Blue gradient */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
            display: inline-block;
            padding-bottom: 0.5rem;
        }
        .section-title::after {
            content: '';
            position: absolute;
            left: 50%;
            bottom: 0;
            transform: translateX(-50%);
            width: 100px;
            height: 5px;
            background: linear-gradient(90deg, #3b82f6, #60a5fa);
            border-radius: 2px;
        }

        .digital-app-card {
            background-color: #ffffff;
            border-radius: 1.5rem;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            margin-bottom: 3rem;
            transition: all 0.3s ease-in-out;
            overflow: hidden;
            border: 1px solid #e2e8f0;
        }
        .dark .digital-app-card {
            background-color: #1e293b;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            border-color: #334155;
        }
        .digital-app-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 25px 45px rgba(0, 0, 0, 0.15);
        }
        .dark .digital-app-card:hover {
            box-shadow: 0 25px 45px rgba(0, 0, 0, 0.4);
        }

        .digital-app-card h2 {
            font-size: 2.25rem; /* 3xl */
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: #334155;
            text-align: center;
        }
        .dark .digital-app-card h2 {
            color: #f8fafc;
        }

        .code-preview-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        @media (min-width: 1024px) { /* Large screens */
            .code-preview-container {
                flex-direction: row;
            }
        }

        .code-editor, .live-preview {
            flex: 1;
            border-radius: 1rem;
            overflow: hidden;
            border: 2px solid #cbd5e1; /* Slate 300 */
            transition: border-color 0.3s ease;
        }
        .dark .code-editor, .dark .live-preview {
            border-color: #475569; /* Slate 700 */
        }

        .code-editor textarea {
            width: 100%;
            height: 450px; /* Fixed height for both */
            padding: 1rem;
            background-color: #2d3748; /* Dark code background */
            color: #f8fafc; /* Light text */
            font-family: monospace;
            font-size: 0.9rem;
            border: none;
            outline: none;
            resize: vertical; /* Allow vertical resizing */
            border-radius: 1rem;
        }

        .live-preview iframe {
            width: 100%;
            height: 450px; /* Fixed height for both */
            background-color: #ffffff;
            border: none;
            border-radius: 1rem;
        }
        .dark .live-preview iframe {
            background-color: #0f172a;
        }

        .button-group {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1.5rem;
        }
        .button-group button {
            padding: 0.8rem 1.5rem;
            background: linear-gradient(45deg, #3b82f6, #60a5fa); /* Blue gradient */
            color: white;
            border-radius: 0.75rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.3);
            border: none;
            cursor: pointer;
        }
        .dark .button-group button {
            background: linear-gradient(45deg, #60a5fa, #2563eb);
            box-shadow: 0 5px 15px rgba(96, 165, 250, 0.3);
        }
        .button-group button:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4);
        }
        .dark .button-group button:hover {
            box-shadow: 0 8px 20px rgba(96, 165, 250, 0.4);
        }

        /* Message Box styles */
        .message-box-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1001; /* Higher than modals */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .message-box-overlay.open {
            opacity: 1;
            visibility: visible;
        }
        .message-box-content {
            background-color: #ffffff;
            padding: 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            max-width: 400px;
            width: 90%;
            text-align: center;
            transform: translateY(-20px);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        .dark .message-box-content {
            background-color: #1e293b;
        }
        .message-box-overlay.open .message-box-content {
            transform: translateY(0);
            opacity: 1;
        }
        .message-box-button {
            background-color: #3b82f6;
            color: white;
            padding: 0.6rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            margin-top: 1.5rem;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        .dark .message-box-button {
            background-color: #60a5fa;
        }
        .message-box-button:hover {
            background-color: #2563eb;
        }
        .dark .message-box-button:hover {
            background-color: #2563eb;
        }
    </style>
    <script>
        // Initialize dark mode preference immediately to prevent FOUC
        if (localStorage.getItem('darkMode') === 'true' ||
            (!('darkMode' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>
</head>
<body class="transition-colors duration-300">

    <header class="py-12 bg-gradient-to-r from-blue-600 to-cyan-700 dark:from-blue-800 dark:to-cyan-900 text-white text-center shadow-lg">
        <h1 class="text-5xl font-extrabold mb-3 animate__animated animate__fadeInDown">Interactive Editors</h1>
        <p class="text-xl font-light animate__animated animate__fadeInUp animate__delay-1s">Diverse multimedia and text editing experiences.</p>
    </header>

    <main class="container py-16">
        <h2 class="section-title mb-16 wow animate__animated animate__fadeIn">Video Editors</h2>

        <section class="digital-app-card wow animate__animated animate__fadeInUp" data-wow-delay="0.1s">
            <h2>1. Basic Video Player & Trimmer</h2>
            <div class="code-preview-container">
                <div class="code-editor">
                    <textarea id="videoEditor1Code">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic Video Editor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .video-editor-container {
            background-color: #ffffff;
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 700px;
            border: 1px solid #e2e8f0;
        }
        .video-wrapper {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            background-color: #000;
            border-radius: 0.5rem;
            overflow: hidden;
            margin-bottom: 1rem;
        }
        .video-wrapper video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain; /* Ensure video fits without cropping */
        }
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            justify-content: center;
            margin-bottom: 1rem;
        }
        .controls button, .controls input[type="range"] {
            padding: 0.6rem 1rem;
            border-radius: 0.5rem;
            background-color: #dbeafe; /* Blue 100 */
            color: #2563eb; /* Blue 600 */
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
        }
        .controls button:hover {
            background-color: #bfdbfe;
            transform: translateY(-1px);
        }
        .controls input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 8px;
            background: #cbd5e1;
            outline: none;
            opacity: 0.7;
            transition: opacity .2s;
            border-radius: 4px;
        }
        .controls input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3b82f6;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .controls input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3b82f6;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .time-display {
            text-align: center;
            font-size: 0.9rem;
            color: #64748b;
            margin-top: 0.5rem;
        }
        @media (max-width: 600px) {
            .video-editor-container { padding: 1rem; }
            .controls button, .controls input[type="range"] { padding: 0.5rem 0.75rem; font-size: 0.9rem; }
            .controls input[type="range"] { height: 6px; }
            .controls input[type="range"]::-webkit-slider-thumb, .controls input[type="range"]::-moz-range-thumb { width: 16px; height: 16px; }
        }
    </style>
</head>
<body>
    <div class="video-editor-container">
        <div class="video-wrapper">
            <video id="videoPlayer" controls>
                <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        <div class="controls">
            <button onclick="playVideo()"><i class="fa-solid fa-play"></i> Play</button>
            <button onclick="pauseVideo()"><i class="fa-solid fa-pause"></i> Pause</button>
            <button onclick="stopVideo()"><i class="fa-solid fa-stop"></i> Stop</button>
            <input type="range" id="volumeControl" min="0" max="1" step="0.01" value="1" oninput="setVolume()">
            <button onclick="trimVideo()"><i class="fa-solid fa-scissors"></i> Trim (Simulated)</button>
            <button onclick="cropVideo()"><i class="fa-solid fa-crop"></i> Crop (Simulated)</button>
        </div>
        <div class="time-display" id="timeDisplay">00:00 / 00:00</div>
    </div>

    <script>
        const videoPlayer = document.getElementById('videoPlayer');
        const volumeControl = document.getElementById('volumeControl');
        const timeDisplay = document.getElementById('timeDisplay');

        function playVideo() { videoPlayer.play(); }
        function pauseVideo() { videoPlayer.pause(); }
        function stopVideo() {
            videoPlayer.pause();
            videoPlayer.currentTime = 0;
        }
        function setVolume() { videoPlayer.volume = volumeControl.value; }

        function trimVideo() {
            parent.showMessageBox('Simulating video trim... (This requires complex backend processing)', 'info', 'Video Operation');
        }
        function cropVideo() {
            parent.showMessageBox('Simulating video crop... (This requires complex backend processing)', 'info', 'Video Operation');
        }

        videoPlayer.addEventListener('timeupdate', () => {
            const currentMinutes = Math.floor(videoPlayer.currentTime / 60);
            const currentSeconds = Math.floor(videoPlayer.currentTime % 60);
            const durationMinutes = Math.floor(videoPlayer.duration / 60);
            const durationSeconds = Math.floor(videoPlayer.duration % 60);

            const formattedCurrent = `${currentMinutes.toString().padStart(2, '0')}:${currentSeconds.toString().padStart(2, '0')}`;
            const formattedDuration = `${durationMinutes.toString().padStart(2, '0')}:${durationSeconds.toString().padStart(2, '0')}`;

            timeDisplay.textContent = `${formattedCurrent} / ${formattedDuration}`;
        });

        videoPlayer.addEventListener('loadedmetadata', () => {
            // Set initial time display once video metadata is loaded
            const durationMinutes = Math.floor(videoPlayer.duration / 60);
            const durationSeconds = Math.floor(videoPlayer.duration % 60);
            const formattedDuration = `${durationMinutes.toString().padStart(2, '0')}:${durationSeconds.toString().padStart(2, '0')}`;
            timeDisplay.textContent = `00:00 / ${formattedDuration}`;
        });
    </script>
</body>
</html>
                    </textarea>
                </div>
                <div class="live-preview">
                    <iframe id="videoEditor1Preview" title="Basic Video Editor Preview"></iframe>
                </div>
            </div>
            <div class="button-group">
                <button onclick="loadDigitalApp('videoEditor1')">Run Editor</button>
            </div>
        </section>

        <section class="digital-app-card wow animate__animated animate__fadeInUp" data-wow-delay="0.2s">
            <h2>2. AI Video Enhancer</h2>
            <div class="code-preview-container">
                <div class="code-editor">
                    <textarea id="videoEditor2Code">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Video Enhancer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #1e293b; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .ai-video-editor-container {
            background-color: #0f172a;
            padding: 2rem;
            border-radius: 1.5rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            width: 100%;
            max-width: 600px;
            border: 1px solid #334155;
            color: #e2e8f0;
        }
        .video-placeholder {
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            background-color: #2d3748;
            border-radius: 0.5rem;
            margin-bottom: 1.5rem;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.2rem;
            color: #94a3b8;
            border: 2px dashed #475569;
        }
        .ai-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .ai-options button {
            padding: 0.8rem 1rem;
            border-radius: 0.75rem;
            background-color: #6366f1; /* Indigo 500 */
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            box-shadow: 0 4px 10px rgba(99, 102, 241, 0.3);
        }
        .ai-options button:hover {
            background-color: #4f46e5; /* Indigo 600 */
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(99, 102, 241, 0.4);
        }
        .ai-status {
            text-align: center;
            font-size: 1rem;
            color: #94a3b8;
            min-height: 24px;
        }
        @media (max-width: 600px) {
            .ai-video-editor-container { padding: 1.5rem; }
            .ai-options button { padding: 0.6rem 0.8rem; font-size: 0.9rem; }
        }
    </style>
</head>
<body>
    <div class="ai-video-editor-container">
        <div class="video-placeholder">
            <i class="fa-solid fa-video text-4xl mr-2"></i> Video Preview (Upload/Drag Here)
        </div>
        <div class="ai-options">
            <button onclick="simulateAI('enhance')"><i class="fa-solid fa-magic"></i> Enhance Video</button>
            <button onclick="simulateAI('stabilize')"><i class="fa-solid fa-shake"></i> Stabilize Footage</button>
            <button onclick="simulateAI('upscale')"><i class="fa-solid fa-arrow-up-right-from-square"></i> Upscale Resolution</button>
            <button onclick="simulateAI('autocut')"><i class="fa-solid fa-cut"></i> AI Auto-Cut</button>
        </div>
        <div id="aiStatus" class="ai-status">Ready for AI magic!</div>
    </div>

    <script>
        function simulateAI(feature) {
            const statusDisplay = document.getElementById('aiStatus');
            statusDisplay.textContent = `Applying AI ${feature} to video... Please wait.`;
            statusDisplay.style.color = '#f97316'; // Orange

            setTimeout(() => {
                statusDisplay.textContent = `AI ${feature} completed! (Simulated)`;
                statusDisplay.style.color = '#34d399'; // Green
                parent.showMessageBox(`AI ${feature} operation finished successfully!`, 'success', 'AI Operation Complete');
            }, 3000); // Simulate processing time
        }
    </script>
</body>
</html>
                    </textarea>
                </div>
                <div class="live-preview">
                    <iframe id="videoEditor2Preview" title="AI Video Enhancer Preview"></iframe>
                </div>
            </div>
            <div class="button-group">
                <button onclick="loadDigitalApp('videoEditor2')">Run Editor</button>
            </div>
        </section>

        <h2 class="section-title mb-16 mt-24 wow animate__animated animate__fadeIn">Photo Editors</h2>

        <section class="digital-app-card wow animate__animated animate__fadeInUp" data-wow-delay="0.3s">
            <h2>1. Basic Photo Editor</h2>
            <div class="code-preview-container">
                <div class="code-editor">
                    <textarea id="photoEditor1Code">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic Photo Editor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .photo-editor-container {
            background-color: #ffffff;
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 600px;
            border: 1px solid #e2e8f0;
        }
        .image-display {
            width: 100%;
            height: 300px;
            background-color: #e2e8f0;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
        }
        .image-display img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            transition: filter 0.3s ease;
        }
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            justify-content: center;
        }
        .controls button {
            padding: 0.6rem 1rem;
            border-radius: 0.5rem;
            background-color: #dbeafe; /* Blue 100 */
            color: #2563eb; /* Blue 600 */
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
        }
        .controls button:hover {
            background-color: #bfdbfe;
            transform: translateY(-1px);
        }
        .file-input-label {
            display: inline-block;
            padding: 0.6rem 1rem;
            border-radius: 0.5rem;
            background-color: #10b981; /* Emerald 500 */
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
        }
        .file-input-label:hover {
            background-color: #059669;
            transform: translateY(-1px);
        }
        .hidden-input {
            display: none;
        }
        @media (max-width: 600px) {
            .photo-editor-container { padding: 1rem; }
            .image-display { height: 200px; }
            .controls button, .file-input-label { padding: 0.5rem 0.75rem; font-size: 0.9rem; }
        }
    </style>
</head>
<body>
    <div class="photo-editor-container">
        <div class="image-display">
            <img id="editableImage" src="https://placehold.co/400x250/a78bfa/ffffff?text=Upload%20Image" alt="Editable Image">
        </div>
        <div class="controls">
            <label for="imageUpload" class="file-input-label">
                <i class="fa-solid fa-upload"></i> Upload Image
            </label>
            <input type="file" id="imageUpload" accept="image/*" class="hidden-input" onchange="loadImage(event)">
            <button onclick="applyFilter('grayscale')"><i class="fa-solid fa-filter"></i> Grayscale</button>
            <button onclick="applyFilter('sepia')"><i class="fa-solid fa-filter"></i> Sepia</button>
            <button onclick="applyFilter('invert')"><i class="fa-solid fa-filter"></i> Invert</button>
            <button onclick="resetImage()"><i class="fa-solid fa-undo"></i> Reset</button>
        </div>
    </div>

    <script>
        const editableImage = document.getElementById('editableImage');
        let originalFilter = 'none';

        function loadImage(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    editableImage.src = e.target.result;
                    editableImage.style.filter = 'none'; // Reset filter on new image
                    originalFilter = 'none';
                };
                reader.readAsDataURL(file);
            }
        }

        function applyFilter(filterType) {
            switch (filterType) {
                case 'grayscale':
                    editableImage.style.filter = 'grayscale(100%)';
                    break;
                case 'sepia':
                    editableImage.style.filter = 'sepia(100%)';
                    break;
                case 'invert':
                    editableImage.style.filter = 'invert(100%)';
                    break;
                default:
                    editableImage.style.filter = 'none';
            }
        }

        function resetImage() {
            editableImage.style.filter = originalFilter;
            // For a real reset, you might reload the original image source if stored
            // For now, it just removes applied filters
            editableImage.style.filter = 'none';
        }
    </script>
</body>
</html>
                    </textarea>
                </div>
                <div class="live-preview">
                    <iframe id="photoEditor1Preview" title="Basic Photo Editor Preview"></iframe>
                </div>
            </div>
            <div class="button-group">
                <button onclick="loadDigitalApp('photoEditor1')">Run Editor</button>
            </div>
        </section>

        <section class="digital-app-card wow animate__animated animate__fadeInUp" data-wow-delay="0.4s">
            <h2>2. AI Photo Retoucher</h2>
            <div class="code-preview-container">
                <div class="code-editor">
                    <textarea id="photoEditor2Code">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Photo Retoucher</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #0f172a; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .ai-photo-editor-container {
            background-color: #1e293b;
            padding: 2rem;
            border-radius: 1.5rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            width: 100%;
            max-width: 600px;
            border: 1px solid #334155;
            color: #e2e8f0;
        }
        .image-placeholder {
            width: 100%;
            height: 300px;
            background-color: #2d3748;
            border-radius: 0.5rem;
            margin-bottom: 1.5rem;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.2rem;
            color: #94a3b8;
            border: 2px dashed #475569;
            overflow: hidden;
        }
        .image-placeholder img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        .ai-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .ai-options button {
            padding: 0.8rem 1rem;
            border-radius: 0.75rem;
            background-color: #38bdf8; /* Sky 400 */
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            box-shadow: 0 4px 10px rgba(56, 189, 248, 0.3);
        }
        .ai-options button:hover {
            background-color: #0ea5e9; /* Sky 500 */
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(56, 189, 248, 0.4);
        }
        .ai-status {
            text-align: center;
            font-size: 1rem;
            color: #94a3b8;
            min-height: 24px;
        }
        @media (max-width: 600px) {
            .ai-photo-editor-container { padding: 1.5rem; }
            .image-placeholder { height: 200px; }
            .ai-options button { padding: 0.6rem 0.8rem; font-size: 0.9rem; }
        }
    </style>
</head>
<body>
    <div class="ai-photo-editor-container">
        <div class="image-placeholder">
            <img id="aiPhoto" src="https://placehold.co/400x250/60a5fa/ffffff?text=Upload%20Image" alt="AI Photo">
        </div>
        <div class="ai-options">
            <label for="imageUploadAI" class="ai-options button">
                <i class="fa-solid fa-upload"></i> Upload Image
            </label>
            <input type="file" id="imageUploadAI" accept="image/*" class="hidden-input" onchange="loadImageAI(event)">
            <button onclick="simulateAIPhoto('auto-enhance')"><i class="fa-solid fa-wand-magic-sparkles"></i> Auto-Enhance</button>
            <button onclick="simulateAIPhoto('background-remove')"><i class="fa-solid fa-eraser"></i> Remove Background</button>
            <button onclick="simulateAIPhoto('smart-crop')"><i class="fa-solid fa-crop-simple"></i> Smart Crop</button>
        </div>
        <div id="aiPhotoStatus" class="ai-status">Ready for AI photo magic!</div>
    </div>

    <script>
        const aiPhoto = document.getElementById('aiPhoto');
        const aiPhotoStatus = document.getElementById('aiPhotoStatus');

        function loadImageAI(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    aiPhoto.src = e.target.result;
                    aiPhotoStatus.textContent = 'Image loaded. Choose an AI operation.';
                    aiPhotoStatus.style.color = '#94a3b8';
                };
                reader.readAsDataURL(file);
            }
        }

        function simulateAIPhoto(feature) {
            if (aiPhoto.src.includes('placehold.co')) {
                parent.showMessageBox('Please upload an image first!', 'warning', 'No Image');
                return;
            }
            aiPhotoStatus.textContent = `Applying AI ${feature}... Please wait.`;
            aiPhotoStatus.style.color = '#f97316'; // Orange

            setTimeout(() => {
                aiPhotoStatus.textContent = `AI ${feature} completed! (Simulated)`;
                aiPhotoStatus.style.color = '#34d399'; // Green
                parent.showMessageBox(`AI ${feature} operation finished successfully!`, 'success', 'AI Photo Complete');
            }, 3000); // Simulate processing time
        }
    </script>
</body>
</html>
                    </textarea>
                </div>
                <div class="live-preview">
                    <iframe id="photoEditor2Preview" title="AI Photo Retoucher Preview"></iframe>
                </div>
            </div>
            <div class="button-group">
                <button onclick="loadDigitalApp('photoEditor2')">Run Editor</button>
            </div>
        </section>

        <h2 class="section-title mb-16 mt-24 wow animate__animated animate__fadeIn">Music Editors</h2>

        <section class="digital-app-card wow animate__animated animate__fadeInUp" data-wow-delay="0.5s">
            <h2>1. Basic Audio Editor</h2>
            <div class="code-preview-container">
                <div class="code-editor">
                    <textarea id="musicEditor1Code">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic Audio Editor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .audio-editor-container {
            background-color: #ffffff;
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 500px;
            border: 1px solid #e2e8f0;
        }
        .audio-player {
            width: 100%;
            margin-bottom: 1rem;
        }
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            justify-content: center;
        }
        .controls button, .controls input[type="range"] {
            padding: 0.6rem 1rem;
            border-radius: 0.5rem;
            background-color: #dbeafe; /* Blue 100 */
            color: #2563eb; /* Blue 600 */
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
        }
        .controls button:hover {
            background-color: #bfdbfe;
            transform: translateY(-1px);
        }
        .controls input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 8px;
            background: #cbd5e1;
            outline: none;
            opacity: 0.7;
            transition: opacity .2s;
            border-radius: 4px;
        }
        .controls input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3b82f6;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .controls input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3b82f6;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        .time-display {
            text-align: center;
            font-size: 0.9rem;
            color: #64748b;
            margin-top: 0.5rem;
        }
        @media (max-width: 600px) {
            .audio-editor-container { padding: 1rem; }
            .controls button, .controls input[type="range"] { padding: 0.5rem 0.75rem; font-size: 0.9rem; }
            .controls input[type="range"] { height: 6px; }
            .controls input[type="range"]::-webkit-slider-thumb, .controls input[type="range"]::-moz-range-thumb { width: 16px; height: 16px; }
        }
    </style>
</head>
<body>
    <div class="audio-editor-container">
        <audio id="audioPlayer" class="audio-player" controls>
            <source src="https://www.w3schools.com/html/horse.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        <div class="controls">
            <button onclick="playAudio()"><i class="fa-solid fa-play"></i> Play</button>
            <button onclick="pauseAudio()"><i class="fa-solid fa-pause"></i> Pause</button>
            <button onclick="stopAudio()"><i class="fa-solid fa-stop"></i> Stop</button>
            <input type="range" id="audioVolumeControl" min="0" max="1" step="0.01" value="1" oninput="setAudioVolume()">
            <button onclick="simulateAudioEffect('reverb')"><i class="fa-solid fa-waveform"></i> Add Reverb</button>
            <button onclick="simulateAudioEffect('normalize')"><i class="fa-solid fa-compress"></i> Normalize</button>
        </div>
        <div class="time-display" id="audioTimeDisplay">00:00 / 00:00</div>
    </div>

    <script>
        const audioPlayer = document.getElementById('audioPlayer');
        const audioVolumeControl = document.getElementById('audioVolumeControl');
        const audioTimeDisplay = document.getElementById('audioTimeDisplay');

        function playAudio() { audioPlayer.play(); }
        function pauseAudio() { audioPlayer.pause(); }
        function stopAudio() {
            audioPlayer.pause();
            audioPlayer.currentTime = 0;
        }
        function setAudioVolume() { audioPlayer.volume = audioVolumeControl.value; }

        function simulateAudioEffect(effect) {
            parent.showMessageBox(`Applying audio effect: ${effect}... (Simulated)`, 'info', 'Audio Operation');
            setTimeout(() => {
                parent.showMessageBox(`Audio effect ${effect} applied! (Simulated)`, 'success', 'Audio Operation Complete');
            }, 2500);
        }

        audioPlayer.addEventListener('timeupdate', () => {
            const currentMinutes = Math.floor(audioPlayer.currentTime / 60);
            const currentSeconds = Math.floor(audioPlayer.currentTime % 60);
            const durationMinutes = Math.floor(audioPlayer.duration / 60);
            const durationSeconds = Math.floor(audioPlayer.duration % 60);

            const formattedCurrent = `${currentMinutes.toString().padStart(2, '0')}:${currentSeconds.toString().padStart(2, '0')}`;
            const formattedDuration = `${durationMinutes.toString().padStart(2, '0')}:${durationSeconds.toString().padStart(2, '0')}`;

            audioTimeDisplay.textContent = `${formattedCurrent} / ${formattedDuration}`;
        });

        audioPlayer.addEventListener('loadedmetadata', () => {
            const durationMinutes = Math.floor(audioPlayer.duration / 60);
            const durationSeconds = Math.floor(audioPlayer.duration % 60);
            const formattedDuration = `${durationMinutes.toString().padStart(2, '0')}:${durationSeconds.toString().padStart(2, '0')}`;
            audioTimeDisplay.textContent = `00:00 / ${formattedDuration}`;
        });
    </script>
</body>
</html>
                    </textarea>
                </div>
                <div class="live-preview">
                    <iframe id="musicEditor1Preview" title="Basic Audio Editor Preview"></iframe>
                </div>
            </div>
            <div class="button-group">
                <button onclick="loadDigitalApp('musicEditor1')">Run Editor</button>
            </div>
        </section>

        <section class="digital-app-card wow animate__animated animate__fadeInUp" data-wow-delay="0.6s">
            <h2>2. AI Music Generator</h2>
            <div class="code-preview-container">
                <div class="code-editor">
                    <textarea id="musicEditor2Code">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Music Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #1e293b; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .ai-music-container {
            background-color: #0f172a;
            padding: 2rem;
            border-radius: 1.5rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            width: 100%;
            max-width: 600px;
            border: 1px solid #334155;
            color: #e2e8f0;
        }
        .input-group {
            margin-bottom: 1.5rem;
        }
        .input-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #cbd5e1;
        }
        .input-group input[type="text"], .input-group select {
            width: 100%;
            padding: 0.75rem;
            border-radius: 0.5rem;
            background-color: #2d3748;
            border: 1px solid #475569;
            color: #f8fafc;
            font-size: 1rem;
            outline: none;
        }
        .input-group input[type="text"]:focus, .input-group select:focus {
            border-color: #6366f1;
            box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.3);
        }
        .ai-generate-button {
            display: block;
            width: 100%;
            padding: 0.8rem 1.5rem;
            background-color: #a78bfa; /* Purple 300 */
            color: white;
            border-radius: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            box-shadow: 0 4px 10px rgba(167, 139, 250, 0.3);
        }
        .ai-generate-button:hover {
            background-color: #8b5cf6; /* Purple 400 */
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(167, 139, 250, 0.4);
        }
        .music-output {
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px dashed #475569;
            text-align: center;
        }
        .music-output audio {
            width: 100%;
            margin-top: 1rem;
        }
        .ai-status {
            font-size: 1rem;
            color: #94a3b8;
            min-height: 24px;
        }
        @media (max-width: 600px) {
            .ai-music-container { padding: 1.5rem; }
            .input-group input, .input-group select { padding: 0.6rem; font-size: 0.9rem; }
            .ai-generate-button { padding: 0.7rem 1rem; font-size: 0.9rem; }
        }
    </style>
</head>
<body>
    <div class="ai-music-container">
        <h3 class="text-xl font-bold mb-4 text-center">Generate Music with AI</h3>
        <div class="input-group">
            <label for="musicPrompt">Describe your music:</label>
            <input type="text" id="musicPrompt" placeholder="e.g., 'Upbeat electronic track for coding'">
        </div>
        <div class="input-group">
            <label for="musicGenre">Genre:</label>
            <select id="musicGenre">
                <option value="pop">Pop</option>
                <option value="rock">Rock</option>
                <option value="electronic">Electronic</option>
                <option value="classical">Classical</option>
                <option value="jazz">Jazz</option>
            </select>
        </div>
        <button class="ai-generate-button" onclick="generateMusic()">
            <i class="fa-solid fa-wand-magic-sparkles"></i> Generate Music
        </button>
        <div class="music-output">
            <div id="aiMusicStatus" class="ai-status">Enter prompt and genre to generate.</div>
            <audio id="generatedMusic" controls class="hidden"></audio>
        </div>
    </div>

    <script>
        function generateMusic() {
            const prompt = document.getElementById('musicPrompt').value;
            const genre = document.getElementById('musicGenre').value;
            const statusDisplay = document.getElementById('aiMusicStatus');
            const generatedMusicPlayer = document.getElementById('generatedMusic');

            if (!prompt.trim()) {
                parent.showMessageBox('Please enter a description for your music!', 'warning', 'Missing Prompt');
                return;
            }

            statusDisplay.textContent = `Generating a ${genre} track based on "${prompt}"...`;
            statusDisplay.style.color = '#f97316'; // Orange
            generatedMusicPlayer.classList.add('hidden');

            setTimeout(() => {
                // In a real application, this would be an API call to an AI music generation model.
                // For demonstration, we'll just "generate" a placeholder audio.
                const placeholderAudioSrc = "https://www.w3schools.com/html/horse.mp3"; // Reusing for demo
                generatedMusicPlayer.src = placeholderAudioSrc;
                generatedMusicPlayer.load(); // Load the new source
                generatedMusicPlayer.classList.remove('hidden');
                statusDisplay.textContent = `Music generated! (Simulated)`;
                statusDisplay.style.color = '#34d399'; // Green
                parent.showMessageBox('Your music has been generated! (Simulated)', 'success', 'Music Generation Complete');
            }, 4000); // Simulate longer generation time
        }
    </script>
</body>
</html>
                    </textarea>
                </div>
                <div class="live-preview">
                    <iframe id="musicEditor2Preview" title="AI Music Generator Preview"></iframe>
                </div>
            </div>
            <div class="button-group">
                <button onclick="loadDigitalApp('musicEditor2')">Run Editor</button>
            </div>
        </section>

        <h2 class="section-title mb-16 mt-24 wow animate__animated animate__fadeIn">Game Creators</h2>

        <section class="digital-app-card wow animate__animated animate__fadeInUp" data-wow-delay="0.7s">
            <h2>1. Simple Level Editor</h2>
            <div class="code-preview-container">
                <div class="code-editor">
                    <textarea id="gameCreator1Code">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Level Editor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Press Start 2P', cursive; background-color: #2d3748; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .level-editor-container {
            background-color: #1a202c;
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            width: 100%;
            max-width: 700px;
            border: 1px solid #4a5568;
            color: #f8fafc;
        }
        .palette {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 1rem;
            justify-content: center;
            padding: 0.75rem;
            background-color: #4a5568;
            border-radius: 0.5rem;
        }
        .palette-item {
            width: 40px;
            height: 40px;
            background-color: #64748b;
            border-radius: 0.25rem;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            cursor: grab;
            transition: transform 0.1s ease, background-color 0.2s ease;
            border: 2px solid transparent;
        }
        .palette-item:hover {
            transform: scale(1.1);
            background-color: #94a3b8;
        }
        .palette-item.selected {
            border-color: #38bdf8;
            box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.5);
        }
        .game-grid {
            display: grid;
            grid-template-columns: repeat(10, 1fr); /* 10x10 grid */
            grid-template-rows: repeat(10, 1fr);
            width: 100%;
            padding-bottom: 100%; /* Maintain square aspect ratio */
            background-color: #0f172a;
            border: 2px solid #334155;
            border-radius: 0.5rem;
            position: relative;
        }
        .grid-cell {
            width: 100%;
            height: 100%;
            border: 1px solid #2d3748;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.2rem;
            color: #cbd5e1;
            overflow: hidden;
        }
        .grid-cell i {
            pointer-events: none; /* Allow click to pass through to cell */
        }
        .grid-cell.ground { background-color: #65a30d; } /* Lime 700 */
        .grid-cell.wall { background-color: #475569; } /* Slate 700 */
        .grid-cell.player { background-color: #ef4444; } /* Red 500 */
        .grid-cell.enemy { background-color: #f97316; } /* Orange 500 */
        .grid-cell.coin { background-color: #facc15; } /* Yellow 500 */
        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            justify-content: center;
        }
        .action-buttons button {
            padding: 0.7rem 1.2rem;
            border-radius: 0.75rem;
            background-color: #3b82f6;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
        }
        .action-buttons button:hover {
            background-color: #2563eb;
            transform: translateY(-2px);
        }
        @media (max-width: 600px) {
            .level-editor-container { padding: 1rem; }
            .palette-item { width: 35px; height: 35px; font-size: 1.2rem; }
            .grid-cell { font-size: 1rem; }
            .action-buttons button { padding: 0.6rem 1rem; font-size: 0.9rem; }
        }
    </style>
</head>
<body>
    <div class="level-editor-container">
        <h3 class="text-xl font-bold mb-4 text-center">Build Your Level!</h3>
        <div class="palette">
            <div class="palette-item selected" data-tool="ground" title="Ground"><i class="fa-solid fa-square"></i></div>
            <div class="palette-item" data-tool="wall" title="Wall"><i class="fa-solid fa-cube"></i></div>
            <div class="palette-item" data-tool="player" title="Player"><i class="fa-solid fa-person"></i></div>
            <div class="palette-item" data-tool="enemy" title="Enemy"><i class="fa-solid fa-ghost"></i></div>
            <div class="palette-item" data-tool="coin" title="Coin"><i class="fa-solid fa-coin"></i></div>
            <div class="palette-item" data-tool="eraser" title="Eraser"><i class="fa-solid fa-eraser"></i></div>
        </div>
        <div id="gameGrid" class="game-grid">
            </div>
        <div class="action-buttons">
            <button onclick="clearGrid()"><i class="fa-solid fa-trash"></i> Clear Grid</button>
            <button onclick="saveLevel()"><i class="fa-solid fa-save"></i> Save Level (Simulated)</button>
            <button onclick="loadLevel()"><i class="fa-solid fa-folder-open"></i> Load Level (Simulated)</button>
        </div>
    </div>

    <script>
        const gameGrid = document.getElementById('gameGrid');
        const paletteItems = document.querySelectorAll('.palette-item');
        let activeTool = 'ground'; // Default tool

        // Initialize grid
        for (let i = 0; i < 100; i++) {
            const cell = document.createElement('div');
            cell.classList.add('grid-cell');
            cell.dataset.type = 'empty'; // Default type
            cell.addEventListener('click', () => placeTile(cell));
            gameGrid.appendChild(cell);
        }

        paletteItems.forEach(item => {
            item.addEventListener('click', () => {
                paletteItems.forEach(p => p.classList.remove('selected'));
                item.classList.add('selected');
                activeTool = item.dataset.tool;
            });
        });

        function placeTile(cell) {
            cell.dataset.type = activeTool;
            cell.innerHTML = ''; // Clear previous icon
            cell.className = 'grid-cell'; // Reset classes

            if (activeTool === 'ground') {
                cell.classList.add('ground');
            } else if (activeTool === 'wall') {
                cell.classList.add('wall');
            } else if (activeTool === 'player') {
                // Ensure only one player
                document.querySelectorAll('.grid-cell.player').forEach(p => {
                    p.classList.remove('player');
                    p.innerHTML = '';
                    p.dataset.type = 'empty';
                });
                cell.classList.add('player');
                cell.innerHTML = '<i class="fa-solid fa-person"></i>';
            } else if (activeTool === 'enemy') {
                cell.classList.add('enemy');
                cell.innerHTML = '<i class="fa-solid fa-ghost"></i>';
            } else if (activeTool === 'coin') {
                cell.classList.add('coin');
                cell.innerHTML = '<i class="fa-solid fa-coin"></i>';
            } else if (activeTool === 'eraser') {
                cell.dataset.type = 'empty';
            }
        }

        function clearGrid() {
            document.querySelectorAll('.grid-cell').forEach(cell => {
                cell.className = 'grid-cell';
                cell.innerHTML = '';
                cell.dataset.type = 'empty';
            });
            parent.showMessageBox('Grid cleared!', 'info', 'Level Editor');
        }

        function saveLevel() {
            const levelData = Array.from(document.querySelectorAll('.grid-cell')).map(cell => cell.dataset.type);
            console.log('Simulating save:', levelData);
            parent.showMessageBox('Level saved successfully! (Simulated)', 'success', 'Level Saved');
            // In a real app, you'd serialize 'levelData' and send to a server or local storage
        }

        function loadLevel() {
            // Simulate loading a predefined level
            const sampleLevel = [
                'wall', 'wall', 'wall', 'wall', 'wall', 'wall', 'wall', 'wall', 'wall', 'wall',
                'wall', 'ground', 'ground', 'ground', 'ground', 'ground', 'ground', 'ground', 'ground', 'wall',
                'wall', 'ground', 'ground', 'ground', 'ground', 'ground', 'ground', 'ground', 'ground', 'wall',
                'wall', 'ground', 'ground', 'player', 'ground', 'ground', 'ground', 'ground', 'ground', 'wall',
                'wall', 'ground', 'ground', 'ground', 'ground', 'ground', 'ground', 'ground', 'ground', 'wall',
                'wall', 'ground', 'ground', 'ground', 'ground', 'enemy', 'ground', 'ground', 'ground', 'wall',
                'wall', 'ground', 'ground', 'ground', 'ground', 'ground', 'ground', 'ground', 'ground', 'wall',
                'wall', 'ground', 'coin', 'ground', 'ground', 'ground', 'ground', 'coin', 'ground', 'wall',
                'wall', 'ground', 'ground', 'ground', 'ground', 'ground', 'ground', 'ground', 'ground', 'wall',
                'wall', 'wall', 'wall', 'wall', 'wall', 'wall', 'wall', 'wall', 'wall', 'wall'
            ];

            clearGrid(); // Clear current grid before loading
            const cells = document.querySelectorAll('.grid-cell');
            sampleLevel.forEach((type, index) => {
                if (cells[index]) {
                    activeTool = type; // Temporarily set tool to apply class/icon
                    placeTile(cells[index]);
                }
            });
            // Reset active tool to default after loading
            activeTool = 'ground';
            paletteItems.forEach(p => p.classList.remove('selected'));
            document.querySelector('.palette-item[data-tool="ground"]').classList.add('selected');

            parent.showMessageBox('Sample level loaded! (Simulated)', 'info', 'Level Loaded');
        }
    </script>
</body>
</html>
                    </textarea>
                </div>
                <div class="live-preview">
                    <iframe id="gameCreator1Preview" title="Simple Level Editor Preview"></iframe>
                </div>
            </div>
            <div class="button-group">
                <button onclick="loadDigitalApp('gameCreator1')">Run Editor</button>
            </div>
        </section>

        <h2 class="section-title mb-16 mt-24 wow animate__animated animate__fadeIn">Text Editors</h2>

        <section class="digital-app-card wow animate__animated animate__fadeInUp" data-wow-delay="0.8s">
            <h2>1. Basic Rich Text Editor</h2>
            <div class="code-preview-container">
                <div class="code-editor">
                    <textarea id="textEditor1Code">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic Rich Text Editor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .editor-container {
            background-color: #ffffff;
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 600px;
            border: 1px solid #e2e8f0;
        }
        .toolbar {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #e2e8f0;
        }
        .toolbar button {
            padding: 0.5rem 0.75rem;
            border-radius: 0.5rem;
            background-color: #dbeafe; /* Blue 100 */
            color: #2563eb; /* Blue 600 */
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
        }
        .toolbar button:hover {
            background-color: #bfdbfe; /* Blue 200 */
            transform: translateY(-1px);
        }
        .editor-area {
            min-height: 200px;
            border: 1px solid #cbd5e1;
            border-radius: 0.5rem;
            padding: 1rem;
            outline: none;
            overflow-y: auto;
            font-size: 1rem;
            line-height: 1.5;
            background-color: #fefefe;
        }
        .editor-area:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
        }
        @media (max-width: 600px) {
            .editor-container { padding: 1rem; }
            .toolbar { flex-wrap: wrap; }
            .toolbar button { flex: 1 1 auto; font-size: 0.9rem; }
            .editor-area { min-height: 150px; font-size: 0.9rem; }
        }
    </style>
</head>
<body>
    <div class="editor-container">
        <div class="toolbar">
            <button onclick="formatDoc('bold')"><b>B</b></button>
            <button onclick="formatDoc('italic')"><i>I</i></button>
            <button onclick="formatDoc('underline')"><u>U</u></button>
            <button onclick="formatDoc('insertOrderedList')"><i class="fa-solid fa-list-ol"></i></button>
            <button onclick="formatDoc('insertUnorderedList')"><i class="fa-solid fa-list-ul"></i></button>
            <button onclick="formatDoc('undo')"><i class="fa-solid fa-undo"></i></button>
            <button onclick="formatDoc('redo')"><i class="fa-solid fa-redo"></i></button>
        </div>
        <div id="editorArea" class="editor-area" contenteditable="true">
            <p>Start typing here...</p>
        </div>
    </div>

    <script>
        function formatDoc(command, value = null) {
            document.execCommand(command, false, value);
            document.getElementById('editorArea').focus();
        }
    </script>
</body>
</html>
                    </textarea>
                </div>
                <div class="live-preview">
                    <iframe id="textEditor1Preview" title="Basic Rich Text Editor Preview"></iframe>
                </div>
            </div>
            <div class="button-group">
                <button onclick="loadDigitalApp('textEditor1')">Run Editor</button>
            </div>
        </section>

        <section class="digital-app-card wow animate__animated animate__fadeInUp" data-wow-delay="0.9s">
            <h2>2. Code Editor with Line Numbers</h2>
            <div class="code-preview-container">
                <div class="code-editor">
                    <textarea id="textEditor2Code">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Editor with Line Numbers</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Fira Code', monospace; background-color: #1a202c; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .code-editor-container {
            background-color: #2d3748;
            padding: 1rem;
            border-radius: 1rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            width: 100%;
            max-width: 700px;
            display: flex;
            overflow: hidden;
            border: 1px solid #4a5568;
        }
        .line-numbers {
            flex-shrink: 0;
            padding: 0.5rem 0.75rem;
            background-color: #4a5568;
            color: #a0aec0;
            text-align: right;
            font-size: 0.9rem;
            line-height: 1.5;
            border-right: 1px solid #64748b;
            user-select: none;
            overflow-y: hidden; /* Controlled by textarea scroll */
        }
        .code-textarea {
            flex-grow: 1;
            padding: 0.5rem 1rem;
            background-color: #2d3748;
            color: #f8fafc;
            font-size: 0.9rem;
            line-height: 1.5;
            border: none;
            outline: none;
            resize: none; /* Controlled by JS for height */
            overflow-y: auto;
            white-space: pre; /* Preserve whitespace */
        }
        @media (max-width: 600px) {
            .code-editor-container { padding: 0.5rem; }
            .line-numbers { padding: 0.4rem 0.5rem; font-size: 0.8rem; }
            .code-textarea { padding: 0.4rem 0.75rem; font-size: 0.8rem; }
        }
    </style>
</head>
<body>
    <div class="code-editor-container">
        <div id="lineNumbers" class="line-numbers">1</div>
        <textarea id="codeEditor" class="code-textarea" spellcheck="false" oninput="updateLineNumbers(); syncScroll();" onscroll="syncScroll()">
function greet(name) {
    console.log(`Hello, ${name}!`);
}

greet('World');

// This is a multi-line
// code example to show
// line numbers working.
for (let i = 0; i < 10; i++) {
    console.log(i);
}
        </textarea>
    </div>

    <script>
        const codeEditor = document.getElementById('codeEditor');
        const lineNumbers = document.getElementById('lineNumbers');

        function updateLineNumbers() {
            const lines = codeEditor.value.split('\n').length;
            let numbers = '';
            for (let i = 1; i <= lines; i++) {
                numbers += i + '\n';
            }
            lineNumbers.textContent = numbers.trim();
            // Adjust line numbers height to match textarea
            lineNumbers.style.height = codeEditor.scrollHeight + 'px';
        }

        function syncScroll() {
            lineNumbers.scrollTop = codeEditor.scrollTop;
        }

        // Initial setup
        updateLineNumbers();
        // Ensure textarea height adjusts on load
        codeEditor.style.height = codeEditor.scrollHeight + 'px';
    </script>
</body>
</html>
                    </textarea>
                </div>
                <div class="live-preview">
                    <iframe id="textEditor2Preview" title="Code Editor with Line Numbers Preview"></iframe>
                </div>
            </div>
            <div class="button-group">
                <button onclick="loadDigitalApp('textEditor2')">Run Editor</button>
            </div>
        </section>

        <section class="digital-app-card wow animate__animated animate__fadeInUp" data-wow-delay="1.0s">
            <h2>3. Markdown Editor with Live Preview</h2>
            <div class="code-preview-container">
                <div class="code-editor">
                    <textarea id="textEditor3Code">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown Editor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f0f4f8; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .markdown-editor-container {
            background-color: #ffffff;
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 800px;
            display: flex;
            gap: 1rem;
            border: 1px solid #e2e8f0;
        }
        .markdown-input, .markdown-preview {
            flex: 1;
            min-height: 300px;
            border-radius: 0.5rem;
            padding: 1rem;
            font-size: 1rem;
            line-height: 1.6;
        }
        .markdown-input {
            background-color: #f8fafc;
            border: 1px solid #cbd5e1;
            outline: none;
            resize: vertical;
        }
        .markdown-input:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
        }
        .markdown-preview {
            background-color: #e2e8f0;
            border: 1px solid #cbd5e1;
            overflow-y: auto;
            color: #1e293b;
        }
        /* Basic Markdown Styling (for preview) */
        .markdown-preview h1 { font-size: 2em; font-weight: bold; margin-bottom: 0.5em; }
        .markdown-preview h2 { font-size: 1.5em; font-weight: bold; margin-bottom: 0.5em; }
        .markdown-preview p { margin-bottom: 1em; }
        .markdown-preview ul, .markdown-preview ol { margin-left: 1.5em; margin-bottom: 1em; list-style-type: disc; }
        .markdown-preview pre { background-color: #2d3748; color: #f8fafc; padding: 0.75em; border-radius: 0.5em; overflow-x: auto; }
        .markdown-preview code { font-family: monospace; background-color: #e2e8f0; padding: 0.2em 0.4em; border-radius: 0.3em; }
        .markdown-preview strong { font-weight: bold; }
        .markdown-preview em { font-style: italic; }

        @media (max-width: 768px) {
            .markdown-editor-container {
                flex-direction: column;
            }
        }
        @media (max-width: 600px) {
            .markdown-editor-container { padding: 1rem; }
            .markdown-input, .markdown-preview { min-height: 150px; font-size: 0.9rem; }
        }
    </style>
</head>
<body>
    <div class="markdown-editor-container">
        <textarea id="markdownInput" class="markdown-input" oninput="updatePreview()">
# Hello Markdown!

This is a **simple** markdown editor.

- Item 1
- Item 2

Here's some `inline code`.

```javascript
// A code block
function greet() {
    console.log("Hello!");
}
greet();
```
        </textarea>
        <div id="markdownPreview" class="markdown-preview"></div>
    </div>

    <script>
        // Basic markdown parser (very simplified)
        function parseMarkdown(markdownText) {
            let html = markdownText
                .replace(/^### (.*$)/gim, '<h3>$1</h3>') // h3
                .replace(/^## (.*$)/gim, '<h2>$1</h2>') // h2
                .replace(/^# (.*$)/gim, '<h1>$1</h1>')   // h1
                .replace(/^\* (.*$)/gim, '<li>$1</li>')  // unordered list
                .replace(/^- (.*$)/gim, '<li>$1</li>')   // unordered list (alternative)
                .replace(/\*\*(.*)\*\*/gim, '<strong>$1</strong>') // bold
                .replace(/__(.*)__/gim, '<strong>$1</strong>')  // bold (alternative)
                .replace(/\*(.*)\*/gim, '<em>$1</em>')     // italic
                .replace(/_(.*)_/gim, '<em>$1</em>')      // italic (alternative)
                .replace(/`([^`]+)`/gim, '<code>$1</code>'); // inline code

            // Handle code blocks (simple, assumes no nested backticks within code)
            html = html.replace(/```(.*?)```/gs, (match, p1) => {
                return `<pre>${p1.trim()}</pre>`;
            });

            // Wrap lines not already in block tags with <p>
            html = html.split('\n').map(line => {
                if (line.trim() === '' || line.match(/<\/?(h[1-6]|ul|ol|li|pre|code|strong|em|u|b)>/i)) {
                    return line;
                }
                return `<p>${line}</p>`;
            }).join('');

            return html;
        }

        function updatePreview() {
            const markdownInput = document.getElementById('markdownInput').value;
            const markdownPreview = document.getElementById('markdownPreview');
            markdownPreview.innerHTML = parseMarkdown(markdownInput);
        }

        updatePreview(); // Initial render
    </script>
</body>
</html>
                    </textarea>
                </div>
                <div class="live-preview">
                    <iframe id="textEditor3Preview" title="Markdown Editor with Live Preview"></iframe>
                </div>
            </div>
            <div class="button-group">
                <button onclick="loadDigitalApp('textEditor3')">Run Editor</button>
            </div>
        </section>

        <section class="digital-app-card wow animate__animated animate__fadeInUp" data-wow-delay="1.1s">
            <h2>4. AI Text Summarizer</h2>
            <div class="code-preview-container">
                <div class="code-editor">
                    <textarea id="textEditor4Code">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Text Summarizer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f0f4f8; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .summarizer-container {
            background-color: #ffffff;
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 600px;
            border: 1px solid #e2e8f0;
        }
        .input-textarea, .output-textarea {
            width: 100%;
            min-height: 150px;
            padding: 1rem;
            border: 1px solid #cbd5e1;
            border-radius: 0.5rem;
            font-size: 1rem;
            outline: none;
            resize: vertical;
            background-color: #fefefe;
            transition: border-color 0.3s ease;
        }
        .input-textarea:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
        }
        .output-textarea {
            background-color: #e2e8f0;
            color: #1e293b;
            margin-top: 1rem;
            cursor: default;
        }
        .summarize-button {
            display: block;
            width: 100%;
            padding: 0.8rem 1.5rem;
            margin-top: 1rem;
            background-color: #6366f1; /* Indigo 500 */
            color: white;
            border-radius: 0.75rem;
            font-weight: 600;
            transition: all 0.2s ease;
            cursor: pointer;
            border: none;
        }
        .summarize-button:hover {
            background-color: #4f46e5; /* Indigo 600 */
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(99, 102, 241, 0.3);
        }
        .status-message {
            text-align: center;
            margin-top: 1rem;
            font-size: 0.9rem;
            color: #64748b;
            min-height: 24px;
        }
        @media (max-width: 600px) {
            .summarizer-container { padding: 1rem; }
            .input-textarea, .output-textarea { min-height: 120px; font-size: 0.9rem; padding: 0.75rem; }
            .summarize-button { padding: 0.6rem 1rem; font-size: 0.9rem; }
            .status-message { font-size: 0.8rem; }
        }
    </style>
</head>
<body>
    <div class="summarizer-container">
        <h3 class="text-xl font-bold mb-4 text-center">AI Text Summarizer</h3>
        <textarea id="inputText" class="input-textarea" placeholder="Paste your text here to summarize...">
Artificial intelligence (AI) is intelligence demonstrated by machines, unlike the natural intelligence displayed by humans and animals. Leading AI textbooks define the field as the study of "intelligent agents": any device that perceives its environment and takes actions that maximize its chance of successfully achieving its goals. Colloquially, the term "artificial intelligence" is often used to describe machines that mimic "cognitive" functions that humans associate with the human mind, such as "learning" and "problem-solving".
        </textarea>
        <button class="summarize-button" onclick="summarizeText()">
            <i class="fa-solid fa-robot"></i> Summarize Text
        </button>
        <textarea id="outputText" class="output-textarea" readonly placeholder="Summary will appear here..."></textarea>
        <div id="summarizeStatus" class="status-message">Ready to summarize.</div>
    </div>

    <script>
        const inputText = document.getElementById('inputText');
        const outputText = document.getElementById('outputText');
        const summarizeStatus = document.getElementById('summarizeStatus');

        function summarizeText() {
            const text = inputText.value.trim();
            if (!text) {
                parent.showMessageBox('Please enter some text to summarize!', 'warning', 'No Text Input');
                return;
            }

            summarizeStatus.textContent = 'Summarizing... Please wait.';
            summarizeStatus.style.color = '#f97316'; // Orange
            outputText.value = ''; // Clear previous output

            setTimeout(() => {
                // In a real application, this would be an API call to an AI summarization model.
                // For demonstration, we'll provide a simplified mock summary.
                const mockSummary = "AI is machine intelligence, defined as intelligent agents perceiving environments to achieve goals. It often mimics human cognitive functions like learning and problem-solving.";
                outputText.value = mockSummary;
                summarizeStatus.textContent = 'Summarization complete! (Simulated)';
                summarizeStatus.style.color = '#34d399'; // Green
                parent.showMessageBox('Text summarized successfully! (Simulated)', 'success', 'Summarization Complete');
            }, 3000); // Simulate AI processing time
        }
    </script>
</body>
</html>
                    </textarea>
                </div>
                <div class="live-preview">
                    <iframe id="textEditor4Preview" title="AI Text Summarizer Preview"></iframe>
                </div>
            </div>
            <div class="button-group">
                <button onclick="loadDigitalApp('textEditor4')">Run Editor</button>
            </div>
        </section>

    </main>

    <div id="messageBoxOverlay" class="message-box-overlay">
        <div class="message-box-content">
            <h3 id="messageBoxTitle" class="text-xl font-semibold mb-4 text-gray-800 dark:text-gray-100"></h3>
            <p id="messageBoxText" class="text-gray-600 dark:text-gray-300"></p>
            <button id="messageBoxCloseBtn" class="message-box-button">OK</button>
        </div>
    </div>

    <script>
        // Message box functions
        const messageBox = document.getElementById('messageBoxOverlay');
        const messageBoxTitle = document.getElementById('messageBoxTitle');
        const messageBoxText = document.getElementById('messageBoxText');
        const messageBoxCloseBtn = document.getElementById('messageBoxCloseBtn');

        window.showMessageBox = function(message, type = 'info', title = 'Notification') {
            messageBoxTitle.textContent = title;
            messageBoxText.textContent = message;
            messageBox.classList.add('open');
            document.body.style.overflow = 'hidden';
        };

        messageBoxCloseBtn.addEventListener('click', () => {
            messageBox.classList.remove('open');
            document.body.style.overflow = '';
        });

        messageBox.addEventListener('click', (e) => {
            if (e.target === messageBox) {
                messageBox.classList.remove('open');
                document.body.style.overflow = '';
            }
        });

        // Function to load app code into iframe
        window.loadDigitalApp = function(appId) {
            const codeTextarea = document.getElementById(`${appId}Code`);
            const previewIframe = document.getElementById(`${appId}Preview`);

            if (codeTextarea && previewIframe) {
                const htmlContent = codeTextarea.value;
                const doc = previewIframe.contentWindow.document;

                doc.open();
                doc.write(htmlContent);
                doc.close();
            } else {
                showMessageBox('Error: App elements not found.', 'error');
            }
        };

        // Automatically load all apps on page load
        document.addEventListener('DOMContentLoaded', () => {
            // Load Video Editors
            loadDigitalApp('videoEditor1');
            loadDigitalApp('videoEditor2');
            // Load Photo Editors
            loadDigitalApp('photoEditor1');
            loadDigitalApp('photoEditor2');
            // Load Music Editors
            loadDigitalApp('musicEditor1');
            loadDigitalApp('musicEditor2');
            // Load Game Creators
            loadDigitalApp('gameCreator1');
            // Load Text Editors
            loadDigitalApp('textEditor1');
            loadDigitalApp('textEditor2');
            loadDigitalApp('textEditor3');
            loadDigitalApp('textEditor4');
        });
    </script>
</body>
</html>
